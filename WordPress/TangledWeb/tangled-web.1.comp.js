var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(f){return f.raw=f};$jscomp.createTemplateTagFirstArgWithRaw=function(f,B){f.raw=B;return f};$jscomp.arrayIteratorImpl=function(f){var B=0;return function(){return B<f.length?{done:!1,value:f[B++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.makeIterator=function(f){var B="undefined"!=typeof Symbol&&Symbol.iterator&&f[Symbol.iterator];return B?B.call(f):$jscomp.arrayIterator(f)};
jQuery(document).ready(function(f){function B(a){var d={},e=a.indexOf("?");-1!=e&&(a=a.substr(e+1));a=a.split("&");for(e=0;e<a.length;e++){var b=a[e].split("=");d[b[0]]=decodeURIComponent(b[1]).replace(/\+/g," ")}return d}function A(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function M(){f("#search-menu").hide();f.ajax({type:"get",dataType:"html",url:myAjax.ajaxurl,data:{action:"tangled_web_home",tab:myAjax.tab,show:myAjax.what_to_show},
success:function(a){f("#tw-content").html(a);f(".cld-name").click(function(){H(f(this).text());return!1});f(".plnk").click(function(){E(F(this));return!1});window.history.pushState(null,"Home",window.location.pathname);f("head title").html(myAjax.title)}})}function V(){f("#search-menu").hide();f.ajax({type:"get",dataType:"html",url:myAjax.ajaxurl,data:{action:"tangled_web_home",tab:myAjax.tab,show:myAjax.what_to_show},success:function(a){f("#tw-content").html(a);f(".cld-name").click(function(){H(f(this).text());
return!1});f(".plnk").click(function(){E(F(this));return!1});f("head title").html(myAjax.title)}})}function H(a){r.order_field="byear";r.order_seq="A";a={action:"tangled_web_search",gonk:f("#gonk").val(),surname:a,orderby:"byear",orderseq:"A"};N(a)}function O(a){r.last_search.offset=a;r.last_search.orderby=r.order_field;r.last_search.orderseq=r.order_seq;r.last_search.gonk=f("#gonk").val();W(r.last_search)}function X(a){a.action="tangled_web_search";a.table_id=myAjax.tab;f.ajax({type:"get",dataType:"json",
url:myAjax.ajaxurl,data:a,success:function(d){I(d)},error:function(d,e,b){f("#search-status").html(b);f("#search-status").show();f("#search-menu").show()}})}function N(a){a.action="tangled_web_search";a.table_id=myAjax.tab;f.ajax({type:"get",dataType:"json",url:myAjax.ajaxurl,data:a,success:function(d){I(d);window.history.pushState({type:"search",globs:r},"Search Results",window.location.href)},error:function(d,e,b){f("#search-status").html(b);f("#search-status").show();f("#search-menu").show()}})}
function W(a){a.action="tangled_web_search";a.table_id=myAjax.tab;f.ajax({type:"get",dataType:"json",url:myAjax.ajaxurl,data:a,success:function(d){I(d);window.history.replaceState({type:"search",globs:r},"Search Results",window.location.href)},error:function(d,e,b){f("#search-status").html(b);f("#search-status").show();f("#search-menu").show()}})}function I(a){f("#gonk").val(a.gonk);var d=a.search;r.last_search=d;a.count?r.search_results_count=a.count:a.count=r.search_results_count;var e="",b="",
c="",g="",h="",m="",k="",p="",q="",n="",l="",z="";"given"==d.orderby?(e=d.orderseq,b="A"==e?"\u25b2":"\u25bc"):"surname"==d.orderby?(c=d.orderseq,g="A"==c?"\u25b2":"\u25bc"):"byear"==d.orderby?(h=d.orderseq,m="A"==h?"\u25b2":"\u25bc"):"bplace"==d.orderby?(k=d.orderseq,p="A"==k?"\u25b2":"\u25bc"):"dyear"==d.orderby?(q=d.orderseq,n="A"==q?"\u25b2":"\u25bc"):"dplace"==d.orderby&&(l=d.orderseq,z="A"==l?"\u25b2":"\u25bc");d=[];d.push('<table id="search-table">\n<tr class="th1"><th class="br" colspan="2">Name</th><th class="br" colspan="2">Birth</th><th colspan="2">Death</th></tr><tr class="th2"><th id="hdg-given" class="srch-hdg" fld="given" seq="'+
e+'">First'+b+'</th><th id="hdg-surnm" class="srch-hdg br" fld="surname" seq="'+c+'">Surname'+g+'</th><th id="hdg-byear" class="srch-hdg" fld="byear" seq="'+h+'">Date'+m+'</th><th id="hdg-bplac" class="srch-hdg br" fld="bplace" seq="'+k+'">Place'+p+'</th><th id="hdg-dyear" class="srch-hdg" fld="dyear" seq="'+q+'">Date'+n+'</th><th id="hdg-dplac" class="srch-hdg" fld="dplace" seq="'+l+'">Place'+z+"</th></tr>\n");e=a.result.length;for(b=0;b<e;b++)c=a.result[b],g=c.surname||"",h=c.bdate||"",m=c.bplace||
"",k=c.ddate||"",p=c.dplace||"",d.push('<tr class="search-row" pid="'+c.pid+'"><td class="search-td">'+A(c.given||"")+'</td><td class="search-td">'+A(g)+'</td><td class="search-td">'+A(h)+'</td><td class="search-td">'+A(m)+'</td><td class="search-td">'+A(k)+'</td><td class="search-td">'+A(p)+"</td></tr>\n");d.push('<tr class="search-nav">');e=Math.ceil(a.count/myAjax.searchlimit);b=a.search.offset?a.search.offset/myAjax.searchlimit+1:1;d.push("<td>Page&nbsp;"+b+"&nbsp;of&nbsp;"+e+(1==a.more?"+":"")+
"</td>");d.push('<td colspan="5"><table class="srch-nav"><tr>');1<b&&(d.push('<td class="srch-go" offset="0"><img src="'+myAjax.baseurl+'img/start.png"/></td> '),d.push('<td class="srch-go" offset="'+(b-2)*myAjax.searchlimit+'"><img src="'+myAjax.baseurl+'img/left.png"/></td>'));2<b&&d.push('<td class="srch-go" offset="'+(b-3)*myAjax.searchlimit+'">'+(b-2)+"</td>");1<b&&d.push('<td class="srch-go" offset="'+(b-2)*myAjax.searchlimit+'">'+(b-1)+"</td>");d.push('<td class="srch-sel">'+b+"</td>");b<e&&
d.push('<td class="srch-go" offset="'+b*myAjax.searchlimit+'">'+(b+1)+"</td>");b<e-1&&d.push('<td class="srch-go" offset="'+(b+1)*myAjax.searchlimit+'">'+(b+2)+"</td>");b<e&&(d.push('<td class="srch-go" offset="'+b*myAjax.searchlimit+'"><img src="'+myAjax.baseurl+'img/right.png"/></td>'),d.push('<td class="srch-go" offset="'+(e-1)*myAjax.searchlimit+'"><img src="'+myAjax.baseurl+'img/end.png"/></td>'));d.push("</tr></table></td></tr>");d.push("</table>\n");f("#tw-content").html(d.join(""));f("#content")[0].scrollIntoView();
f(".search-td").click(function(){var u=f(this).parent("tr");E(u.attr("pid"))});f(".srch-hdg").click(function(){var u=f(this),x=u.children("span"),t=u.attr("id");if(t==r.prev_seq)"A"==u.attr("seq")?(u.attr("seq","D"),x.html("\u25bc"),r.order_seq="D"):(u.attr("seq","A"),x.html("\u25b2"),r.order_seq="A");else{var y=f("#"+r.prev_seq);y.attr("seq","");y.html("");u.attr("seq","A");x.html("\u25b2");r.prev_seq=t;r.order_field=u.attr("fld");r.order_seq="A"}O(0);return!1});f(".srch-go").click(function(){O(f(this).attr("offset"));
return!1})}function Y(a,d){d=void 0===d?"summary":d;var e=C(a)+"/"+a+".json",b="/"+myAjax.datadir+"/ind/"+e;f.when(f.ajax("/"+myAjax.datadir+"/fam/"+e),f.ajax(b)).then(function(c,g){J(c[0],g[0],d)})}function E(a){a=C(a)+"/"+a+".json";var d="/"+myAjax.datadir+"/ind/"+a;f.when(f.ajax("/"+myAjax.datadir+"/fam/"+a),f.ajax(d)).then(function(e,b){var c=b[0];J(e[0],c);window.history.pushState({type:"indi",pid:c.pid,dir:c.dir,page:"summary"},"",window.location.pathname+"?p="+c.pid)})}function P(a){a=C(a)+
"/"+a+".json";var d="/"+myAjax.datadir+"/ind/"+a;f.when(f.ajax("/"+myAjax.datadir+"/fam/"+a),f.ajax(d)).then(function(e,b){var c=b[0];J(e[0],c);window.history.replaceState({type:"indi",pid:c.pid,dir:c.dir,page:"summary"},"",window.location.pathname+"?p="+c.pid)})}function J(a,d,e){e=void 0===e?"summary":e;var b=Z(d.names),c=[];c.push(b);d.gallery&&(b="/"+myAjax.datadir+"/fam/"+C(d.pid)+"/"+d.pid+".big.jpg",c.push('<img src="'+b+'" class="icon-img">'));c.push('<table id="ind-tabs"><tr><td><div id="ind-summary" class="ind-tab-inactive">Family</div></td><td><div id="ind-events" class="ind-tab-inactive">Timeline</div></td>');
d.notes&&c.push('<td><div id="ind-notes" class="ind-tab-inactive">Notes</div></td>');d.pedigree&&c.push('<td><div id="ind-pedigree" class="ind-tab-inactive">Pedigree'+(d.pedigree.collapse?" *":"")+"</div></td>");d.gallery&&c.push('<td><div id="ind-gallery" class="ind-tab-inactive">Album</div></td>');c.push('<td><div id="ind-sources" class="ind-tab-inactive">Sources</div></td></tr></table>');c.push('<div id="summary-section" class="indi-content-hidden"></div><div id="events-section" class="indi-content-hidden"></div>');
d.notes&&c.push('<div id="notes-section" class="indi-content-hidden"></div>');d.pedigree&&c.push('<div id="pedigree-section" class="indi-content-hidden"></div>');d.gallery&&c.push('<div id="gallery-section" class="indi-content-hidden"></div>');c.push('<div id="sources-section" class="indi-content-hidden"></div>');c=c.join("");f("#tw-content").html(c);f("#ind-summary").click(function(){D("summary",a,d,!0)});f("#ind-events").click(function(){D("events",a,d,!0)});f("#ind-notes").click(function(){D("notes",
a,d,!0)});f("#ind-pedigree").click(function(){D("pedigree",a,d,!0)});f("#ind-gallery").click(function(){D("gallery",a,d,!0)});f("#ind-sources").click(function(){D("sources",a,d,!0)});D(e,a,d);f("#content")[0].scrollIntoView()}function D(a,d,e,b){if(void 0===b?0:b)b=window.history.state,b.page=a,window.history.replaceState(b,"",window.location.pathname+window.location.search);f(".ind-tab-active").attr("class","ind-tab-inactive");f("#ind-"+a).attr("class","ind-tab-active");f(".indi-content").attr("class",
"indi-content-hidden");b=f("#"+a+"-section");!b.html()&&(d=aa[a](d,e))&&(b.html(d),f("#"+a+"-section .plnk").click(function(){E(F(this));return!1}),f("#"+a+"-section .note-toggle-button").click(function(){var c=f(this),g=c.attr("sid"),h=c.attr("hid");f("#"+h).hide();f("#"+g).show();"first"==c.attr("show")?(c.attr("show","full"),c.html('<img src="'+myAjax.baseurl+'img/expand-less.png"/>')):(c.attr("show","first"),c.html('<img src="'+myAjax.baseurl+'img/expand-more.png"/>'));c.attr("sid",h);c.attr("hid",
g)}),f("#"+a+"-section .gimage").click(function(){var c=f(this).attr("full"),g=f(this).attr("alt"),h=c.substr(c.lastIndexOf("."));f("#gimage-content").html('<img src="'+c+'" />');f("#gimage-desc").html(g);f("#gimage").show();f("#gimage-close").click(function(){f("#gimage").hide()});f("#gimage-dl").click(function(){var m=document.createElement("a");m.style.display="none";m.href=c;m.download=g+h;document.body.appendChild(m);m.click();document.body.removeChild(m)})}));b.attr("class","indi-content")}
function Z(a){for(var d=a.length,e=0;e<d&&"1"!=a[e].prim;e++);d=a[e].given+" "+a[e].surname;"nick"in a[e]&&(d+=" (<i>"+a[e].nick+"</i>)");var b=d+" - "+myAjax.title;f("head title").html(b);return'<p><span class="title-name">'+d+"</span> "+G(a[e].cits)+"</p>"}function ba(a,d){if("mom"in a.famc||"dad"in a.famc){var e=null;if(e="mom"in a.famc?a.famc.mom:a.famc.dad)e="/"+myAjax.datadir+"/fam/"+C(e.pid)+"/"+e.pid+".json",f.ajax(e).done(function(b){var c,g,h=null;var m=b.fams.length;for(c=0;c<m&&null==
h;c++){var k=b.fams[c][1],p=k.length;for(g=0;g<p;g++)if(k[g].pid==d.pid){h=k;break}}b=[];b.push('<table id="anc-table"><tr>');b.push('<th colspan="2">Siblings</th>');m=h.length;for(c=g=0;c<m;c++)k=h[c],0==g%2&&b.push("</tr><tr>"),k.pid!=d.pid&&(g+=1,b.push("<td>"+v(k,!0,!0,!1,!0,!0,!0)+"</td>"));b.push("</tr></table>");0<g&&(f("#siblings-section").html(b.join("")),f("#siblings-section .plnk").click(function(){E(F(this));return!1}))})}}function Q(a){var d="";a.husband&&(d=v(a.husband,!1,!1,!0));var e=
"";a.wife&&(e=v(a.wife,!1,!1,!0));return d&&e?d+" and "+e:d?d:e}function R(a,d){d=void 0===d?!1:d;var e=a.dsc,b=C(a.mid)+"/"+a.mid+a.ext,c=b;c.endsWith(".jpg")||(c=c.split("."),c[c.length-1]="jpg",c=c.join("."));b=b.replaceAll(" ","%20");b='<img class="gimage" src="/'+myAjax.datadir+"/thm/"+c+'" full="/'+(myAjax.datadir+"/img/"+b)+'" alt="'+e+'"/>';b+="<br/>"+e;d&&a.dat&&(b+="<br/>"+a.dat);return b}function S(a){for(var d="",e="",b=a.length,c=0;c<b;c++){var g=a[c];d+=e+"<b>"+g.attr+":</b> ";e="<br/>";
d="URL"==g.attr?d+('<a href="'+g.val+'" target="_blank">'+g.val+"</a>"):d+g.val;"cits"in g&&(d+=G(g.cits))}return d}function G(a){if(!a)return"";var d=" <sup>";if("string"===typeof a||a instanceof String)a=a.split(",");for(var e=a.length,b=0;b<e;b++)d+="["+a[b]+"]";return d+"</sup>"}function T(a,d){if(!a)return null;var e=a.length;if(0==e)return null;for(var b=0,c=[],g=0;g<e;g++){var h=a[g],m=h.text,k=m.split("<br")[0];80<k.length&&(k=k.substr(0,80)+"...");b+=1;c.push('<div class="note"><b>'+h.type+
'</b><br/><div class="note-toggle-button" hid="N'+d+b+'" sid="M'+d+b+'" show="first"><img src="'+myAjax.baseurl+'img/expand-more.png"/></div><div id="N'+d+b+'" class="note-first">'+k+'</div><div id="M'+d+b+'" class="note-full">'+m+"</div></div>")}return c.join("")}function v(a,d,e,b,c,g,h){d=void 0===d?!1:d;e=void 0===e?!1:e;b=void 0===b?!1:b;c=void 0===c?!0:c;g=void 0===g?!1:g;h=void 0===h?!1:h;if(!a||"string"===typeof a||a instanceof String)return"<i>unknown</i>";var m=a.pid,k=C(m),p="";h&&(p="<br/>");
h="";e&&"dat"in a&&a.dat&&(h+=" ("+a.dat+")");b&&"rel"in a&&a.rel&&(e=a.rel,h="string"===typeof e||e instanceof String?h+(" "+p+"("+e+")"):h+(" "+p+"("+e[0]+" "+v(e[1])+")"));e="";d&&(e="F"==a.gdr?" \u2640":" \u2642");d="";c&&k&&(d+=" plnk");c="person";var q=b="",n="";g&&"ico"in a&&""!=a.ico&&(b='<img src="/'+(myAjax.datadir+"/fam/"+k+"/"+m+'.jpg" class="icon-img">'),c+=" person-with-img",q='<span class="person-desc">',n="</span>");return k?'<span class="'+c+'">'+b+q+'<a class="'+d+'" href="'+window.location.pathname+
"?p="+m+'">'+A(a.giv)+" "+A(a.sur)+"</a>"+e+p+h+n+"</span>":'<span class="'+c+'">'+b+q+A(a.giv)+" "+A(a.sur)+e+p+h+n+"</span>"}function U(a,d){var e="",b="";a&&(e+=a,b="; ");d&&(e+=b+A(d));return e}function F(a){return B(f(a).attr("href")).p}function C(a){var d=Number(a.replace(/\D/g,""));a=Math.floor(d/K)%K;d=String.fromCharCode(97+d%K);a=String.fromCharCode(97+a);return d+"/"+a}f("#search-menu").html('<form>\n<input type="hidden" id="gonk" name="gonk" value="" />\n<table>\n<tr><td><label for="surname">Surname:</label></td>\n    <td colspan="3"><input id="surname" name="surname" type="text" size="30"/></td></tr>\n<tr><td><label for="given">First name:</label></td>\n    <td colspan="3"><input id="given" name="given" type="text" size="30"/></td></tr>\n<tr><td><label for="place">Place:</label></td>\n    <td colspan="3"><input id="place" name="place" type="text" size="30"/></td></tr>\n<tr><td><label for="year-from">Period:</label></td>\n    <td><input id="year-from" name="year-from" type="text"\n               maxlength="4" size="4"/></td>\n    <td><label for="year-to">to:</label></td>\n    <td><input id="year-to" name="year-from" type="text"\n               maxlength="4" size="4"/>\n        <input id="email" name="email" type="text" /></td></tr>\n<tr><td colspan="4"><button id="submit-search" class="tw-button">Submit Search</button>\n    </td></tr>\n<tr><td colspan="4"><span id="search-status"></span></td></tr>\n</table>\n</form>');
f("#gonk").val(myAjax.gonk);window.onpopstate=function(a){f("#gimage").hide();(a=a.state)?"indi"==a.type?Y(a.pid,a.page):"search"==a.type&&(r=a.globs,r.last_search.gonk=f("#gonk").val(),X(r.last_search)):V()};f(".plnk").click(function(){E(F(this));return!1});f("#home-button").click(function(){M()});f("#search-button").click(function(){f("#search-menu").is(":visible")?(f("#search-menu").hide(),f("#search-status").hide(),f("#search-status").html("")):f("#search-menu").show()});f("#search-close").click(function(){f("#search-menu").hide()});
f("#submit-search").click(function(){f("#search-menu").hide();if(f("#email").val())return!1;var a={gonk:f("#gonk").val()},d=f("#surname").val(),e=f("#given").val(),b=f("#place").val(),c=f("#year-from").val(),g=f("#year-to").val();d&&(a.surname=d);e&&(a.given=e);b&&(a.place=b);c&&(a.yearfrom=c);g&&(a.yearto=g);r.order_field="byear";r.order_seq="A";a.orderby=r.order_field;a.orderseq=r.order_seq;N(a);return!1});f(".cld-name").click(function(){H(f(this).text());return!1});var r={prev_seq:"hdg-byear",
order_field:"byear",order_seq:"A",last_search:null,search_results_count:null},aa={summary:function(a,d){var e=d.names;var b=d.summary;var c=[];c.push("<h2>Family</h2>");c.push("<p>");var g="";var h="";"P"==b.btype?g='<span class="bold">Baptized:</span> ':"B"==b.btype&&(g='<span class="bold">Born:</span> ');if(g+=U(b.bdate,b.bplace))c.push(g),h="<br/>";g="";"B"==b.dtype?g='<span class="bold">Buried:</span> ':"S"==b.dtype?g='<span class="bold">Stillbirth:</span> ':"D"==b.dtype&&(g='<span class="bold">Died:</span> ');
(g+=U(b.ddate,b.dplace))&&c.push(h+g+"</p>");g=e.length;if(1<g){c.push('<h3>Names</h3><ul class="names-list">');for(b=0;b<g;b++)c.push('<li><span class="bold">'+e[b].nametype+":</span> "+e[b].given+" "+e[b].surname),"nick"in e[b]&&c.push(" (<i>"+e[b].nick+"</i>)"),(h=e[b].surnametype)&&c.push(" ("+h+")"),c.push(G(e[b].cits)+"</li>");c.push("</ul>")}c.push("<h3>Family</h3>");c.push('<div id="ancestors">');if("pedigree"in d)if(b=d.pedigree){b=b.pedigree;e={};g=!1;for(h=4;7>=h;h++)h in b&&(g=!0,e[h]=
b[h][0]);b=g?e:null}else b=null;else b=null;c.push('<table id="anc-table"><tr>');b&&(c.push('<th colspan="2">Grandparents</th></tr><tr>'),4 in b?c.push("<td>"+v(b[4],!0,!0,!1,!0,!0,!0)+"</td>"):c.push("<td></td>"),6 in b?c.push("<td>"+v(b[6],!0,!0,!1,!0,!0,!0)+"</td>"):c.push("<td></td>"),c.push("</tr><tr>"),5 in b?c.push("<td>"+v(b[5],!0,!0,!1,!0,!0,!0)+"</td>"):c.push("<td></td>"),7 in b?c.push("<td>"+v(b[7],!0,!0,!1,!0,!0,!0)+"</td>"):c.push("<td></td>"),c.push("</tr><tr>"));c.push('<th colspan="2">Parents</th></tr><tr>');
"dad"in a.famc?(b="","ado"in a.famc.dad&&(b='<br/><span class="adop">'+a.famc.dad.ado+"</span>"),c.push("<td>"+v(a.famc.dad,!0,!0,!1,!0,!0,!0)+b+"</td>")):c.push("<td></td>");"mom"in a.famc?(b="","ado"in a.famc.mom&&(b='<br/><span class="adop">'+a.famc.mom.ado+"</span>"),c.push("<td>"+v(a.famc.mom,!0,!0,!1,!0,!0,!0)+b+"</td>")):c.push("<td></td>");c.push("</tr></table>");c.push("</div>");c.push('<div id="siblings-section"></div>');ba(a,d);if(a.fams)for(e=a.fams,g=e.length,b=0;b<g;b++){h=e[b];var m=
"M"==d.gdr?"Wife":"Husband";c.push('<table id="anc-table"><tr>');c.push('<th colspan="2">'+m+"</th></tr><tr>");a:{m=d.events.length;for(var k=0;k<m;k++)for(var p=d.events[k],q=p.events.length,n=0;n<q;n++){var l=p.events[n];if("Marriage"==l.event&&"Family"==l.role&&"spouse"in l&&l.spouse[0]==h[0][0]){m={date:d.events[k].date,place:l.place};break a}}m=null}m?(c.push('<td><img src="'+myAjax.baseurl+'img/marr.png" style="float:left"/>'),c.push('<span class="bold">Married:</span> <br/>'+(m.date+"<br/>"+
m.place)+"</td>")):c.push("<td></td>");c.push("<td>"+v(h[0],!0,!0,!0,!0,!0,!0)+"</td></tr><tr>");if(m=h[1])for(c.push('<th colspan="2">Children:</th>'),k=m.length,h=0;h<k;h++)0==h%2&&c.push("</tr><tr>"),c.push("<td>"+v(m[h],!0,!0,!1,!0,!0,!0)+"</td>");c.push("</tr></table>")}if(d.links){c.push("<h3>External Links</h3><ul>");e=d.links.length;for(b=0;b<e;b++)g=d.links[b],c.push('<li><a href="'+g[1]+'" target="_blank">'+g[0]+"</a></li>");c.push("</ul>")}return c.join("")},events:function(a,d){var e=
[];e.push("<h2>Timeline</h2>");e.push('<ul class="event-list">');for(var b=d.events,c=b.length,g=0;g<c;g++){e.push("<li><b>"+b[g].date+"</b><br/><ul>");for(var h=b[g].events,m=h.length,k=0;k<m;k++){var p=e,q=p.push,n=d;var l=h[k];var z=[],u="",x=G(l.cits),t="",y=l.desc?l.desc+" ":"";if("Primary"==l.role){if("Birth"==l.event||"Baptism"==l.event){n=l.father?v(l.father,!1,!1,!1):"";var w=l.mother?v(l.mother,!1,!1,!1):"";n&&w?t=" to parents "+n+" and "+w:n?t=" to father "+n:w&&(t=" to mother "+w)}}else"Family"==
l.role?l.event.startsWith("Marriage")?l.spouse&&(t=" to "+v(l.spouse,!1,!1,!1)):"Divorce"==l.event&&l.spouse&&(t=" from "+v(l.spouse,!1,!1,!1)):"Parent"==l.role?t=l.event.startsWith("Marriage")?"of "+Q(l):"of "+ca[l.child.gdr]+" "+v(l.child,!1,!1,!1):"Spouse"==l.role?t="of "+da[n.gdr]+" "+v(l.spouse,!1,!1,!1):"Child"==l.role?"primary"in l?t="of "+ea[l.primary.gdr]+" "+v(l.primary,!1,!1,!1):(t=l,n="",t.husband&&(n=v(t.husband,!1,!1,!1)),w="",t.wife&&(w=v(t.wife,!1,!1,!1)),t="of "+(n&&w?"parents "+
n+" and "+w:n?"father "+n:"mother "+w)):l.role&&(u=l.role+" for ",t="Marriage"==l.event?"of "+Q(l):"of "+v(l.primary,!1,!1,!0));z.push(u+"<b>"+l.event+"</b> "+y+t+x);u="";if(l.others&&(x=l.others,y=x.length,0<y))for(t=0;t<y;t++)u+="<li>"+x[t][0]+": "+v(x[t][1],!1,!1,!0)+"</li>";x="";if("attrs"in l){x=l.attrs;y="";t=x.length;for(n=0;n<t;n++)w=x[n],y+="<li>"+w.attr+": ",y="URL"==w[0]?y+('<a href="'+w.val+'" target="_blank">'+w.val+"</a>"):y+w.val,"cits"in w&&(y+=G(w.cits)),y+="</li>";x=y}u||x?(z.push("<ul>"),
z.push(u),z.push(x),z.push("</ul>"),u=""):u="<br>";l.place&&z.push(u+l.place);l=z.join("");q.call(p,"<li>"+l+"</li>")}e.push("</ul></li>")}e.push("</ul>");return e.join("")},notes:function(a,d){var e=[];e.push("<h2>Notes</h2>");e.push(T(d.notes,"X"));return e.join("")},pedigree:function(a,d){var e=d.pedigree;if(!e)return null;var b=e.pedigree;if(0==b.length)return null;var c=[];c.push("<h2>Pedigree</h2>");e.collapse&&c.push("<p><b>* Pedigree Collapse. Scroll down for details.</b></p>");c.push('<table class="ped-table"><tr><td>');
var g=0;e=!1;for(var h=0,m=$jscomp.makeIterator(Object.entries(b)),k=m.next();!k.done;k=m.next()){k=$jscomp.makeIterator(k.value);var p=k.next().value;k=k.next().value;if(0==p%2||p-1!=g){g="";var q=Math.floor(Math.log2(p));q>h&&(h=q,g=' class="border-top"');e||c.push("</td><td>&nbsp;");c.push("</td></tr><tr"+g+"><td>")}else 1!=p&&c.push("<br/>");g=p;e=!1;if("number"==typeof k)c.push(p+": ==> "+k);else if(c.push(p+": "+v(k[0],!1,!0,!1)),1<k.length){e=!0;c.push("</td><td><ul>");p=k[1].length;for(q=
0;q<p;q++){var n=k[1][q];c.push("<li>");var l=n.length;c.push(n[0]+"<br/><b>Common ancestor"+(2<l?"s":"")+":</b>");for(var z=1;z<l;z++){var u=n[z];u=[u,b[u][0]];c.push("<br/>"+u[0]+": "+v(u[1]))}c.push("</li>")}c.push("</ul>")}}e||c.push("</td><td>&nbsp;");c.push("</td></tr></table>");return c.join("")},gallery:function(a,d){var e=[];e.push("<h2>Album</h2>");if(d.gallery)for(var b=d.gallery.length,c=0;c<b;c++)e.push("<p>"+R(d.gallery[c],!0)+"</p>");return e.join("")},sources:function(a,d){var e=[];
e.push('<h2>Sources</h2><ol class="sources">');for(var b=0,c=d.sources.length,g=0;g<c;g++){var h=d.sources[g];e.push("<li>"+h.title);"attrs"in h&&e.push("<br/>"+S(h.attrs));e.push('<ol class="citations">');for(var m=h.cits.length,k,p=0;p<m;p++){e.push("<li>");k="";var q=h.cits[p];q.date&&(e.push(k+"<b>Date:</b> "+q.date),k="<br/>");q.page&&(e.push(k+"<b>Page:</b> "+q.page),k="<br/>");if(q.media){e.push(k+"<b>Media:</b>");k=q.media.length;for(var n=0;n<k;n++)e.push("<br/>"+R(q.media[n]));k="<br/>"}q.notes&&
0<q.notes.length&&(b+=1,e.push(k+"<b>Notes:</b>"),e.push(T(q.notes,b+"Z")),k="");"attrs"in q&&e.push(k+S(q.attrs));e.push("</li>")}e.push("</ol></li>")}e.push("</ol>");return e.join("")}},ca={M:"son",F:"daughter"},da={M:"wife",F:"husband"},ea={M:"father",F:"mother"},K=20;f("#tw-buttons").show();if(window.location.search){var L=B(window.location.search);"p"in L?P(L.p):"oldid"in L&&"pid"in myAjax?P(myAjax.pid):M()}});